10 KEY OFF:COLOR 15,4:SCREEN 0:WIDTH 40
15 BLOAD "DDX80REG.BIN",R:MR%=&HC020:MV%=&HC021
20 POKE &HC022,2:I%=USR1(0) OR USR4(0):R%=0
25 CR%=40*(R%+3)+2+USR2(0)
30 VPOKE CR%,62:VPOKE CR%+35,60
35 K$=INKEY$:IF K$="" THEN 35
40 VPOKE CR%,32:VPOKE CR%+35,32
45 R%=(R%+(K$=CHR$(30))-(K$=CHR$(31)))AND 15
50 IF K$=CHR$(24) THEN POKE &HC000+R%,PEEK(&HC010+R%)
55 IF K$=CHR$(27) THEN LOCATE 0,0:END
60 IF K$=CHR$(28) THEN POKE &HC000+R%,(PEEK(&HC000+R%)+1 AND &HFF)
65 IF K$=CHR$(29) THEN POKE &HC000+R%,(PEEK(&HC000+R%)-1 AND &HFF)
70 IF K$=CHR$(32) THEN POKE MR%,R%:POKE MV%,PEEK(&HC000+R%):I%=USR3(0)
75 GOTO 25

